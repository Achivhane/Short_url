<div class="container">
  <form id="form" role="search">
    <div class="form-group" style="padding-left: 450px">
      <h3>Generate short url</h3>
    </div>
    <div class="form-group" style="padding-left: 200px">
      <div class="form-group">
        <label style="margin-right: 10px">Name :</label>
        <input
          type="text"
          [(ngModel)]="urlObj.name"
          placeholder="Please enter the Name of the URL"
          aria-label="Search through site content"
          name="url"
          class="form-control"
          style="margin-right: 10px"
        />
      </div>
      <div class="form-group">
        <label style="margin-right: 20px">URL :</label>
        <input
          type="text"
          [(ngModel)]="urlObj.url"
          placeholder="Please enter the URL"
          aria-label="Search through site content"
          name="url"
          class="form-control"
          style="margin-right: 10px"
        />
      </div>
      <div class="form-group" style="padding-left: 250px">
        <button
          (click)="save()"
          class="btn btn-default"
          style="padding-right: 20px"
        >
          Genrate URL
        </button>
      </div>
    </div>
  </form>
</div>

<table id="customers">
  <thead>
    <tr>
      <th>ID</th>
      <th>Short URL Name</th>
      <th>Short URL</th>
      <th>Redirect URL</th>
      <th>CreatedAt</th>
      <th>UpdatedAt</th>
      <th>Action</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let item of data">
      <td>{{ item._id }}</td>
      <td>{{ item.name }}</td>
      <td>
        <button (click)="onClickUrl(item.shortId)">{{ item.shortId }}</button>
      </td>
      <td>{{ item.redirectUrl }}</td>
      <td>{{ item.createdAt | date : "medium" }}</td>
      <td>{{ item.updatedAt | date : "medium" }}</td>
      <td>
        <button
          type="button"
          class="btn btn-primary"
          data-toggle="modal"
          data-target=".bd-example-modal-sm"
          (click)="OpenModel(item.shortId)"
        >
          Edit
        </button>
      </td>
    </tr>
  </tbody>
</table>

<!-- <div
  #ModelViewChild
  class="modal fade bd-example-modal-sm"
  tabindex="-1"
  role="dialog"
  aria-labelledby="mySmallModalLabel"
  aria-hidden="true"
  style="display: none"
>
  <div class="modal-dialog modal-sm">
    <div class="modal-content modal-header">
      <div class="modal-header">Edit</div>
      <button type="button" class="close" data-dismiss="modal">&times;</button>
      <h4 class="modal-title">Update the Details</h4>
    </div>
    <div class="modal-body">
      <form [formGroup]="editform" (ngSubmit)="editSave(editform)">
        <div>
          <label>Redirect URL:</label>
          <input
            type="text"
            formControlName="redirectUrl"
            class="form-control"
          />
        </div>
        <div class="modal-footer">
          <div>
            <button type="submit">Update</button>
          </div>
          <button type="button" class="btn btn-default" data-dismiss="modal">
            Close
          </button>
        </div>
      </form>
    </div>
  </div>
</div> -->

<div class="modal" tabindex="-1" role="dialog" #ModelViewChild>
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Edit</h5>
        <button
          type="button"
          class="close"
          data-dismiss="modal"
          aria-label="Close"
          (click)="closeModal()"
        >
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <form [formGroup]="editform" (ngSubmit)="editSave(editform)">
        <div class="modal-body form-group">
          <div>
            <label>Name :</label>
            <!-- <input type="text" formControlName="name" class="form-control" /> -->
            <input
              type="text"
              formControlName="name"
              placeholder="Please enter the Name of the URL"
              aria-label="Search through site content"
              name="url"
              class="form-control"
              style="margin-left: 8px"
            />
          </div>
          <div style="margin-top: 10px">
            <label>URL:</label>
            <input
              type="text"
              formControlName="redirectUrl"
              placeholder="Please enter the URL"
              aria-label="Search through site content"
              name="url"
              class="form-control"
              style="margin-left: 20px"
            />
          </div>
        </div>
        <div class="modal-footer">
          <button type="submit" class="btn btn-primary">Update</button>
          <button
            type="button"
            class="btn btn-secondary"
            data-dismiss="modal"
            (click)="closeModal()"
          >
            Close
          </button>
        </div>
      </form>
    </div>
  </div>
</div>
